<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>OriginsOnMars - Как держать сервер</title>
        <link rel="stylesheet" href="style.css">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    </head>
<body>
<main>
    <header>
        <img src="resources/origins_on_mars_logo.png" alt="Логотип OriginsOnMars" class="logo">
        <ul class="menu">
            <li><a href="/oom">Главная</a></li>
            <li><a href="poll.html">Голосование за моды</a></li>
            <li><a href="installing.html">Установка</a></li>
            <li><a href="updating.html">Обновление</a></li>
            <li><a href="faq.html">Частые вопросы</a></li>
            <li><a href="server.html">Как сделать сервер</a></li>
        </ul>
    </header>

    <div style="text-align:center">
        <TODO><p style="color:bisque;font-family:Roboto;font-size:16px;font-weight:200">TODO: Заполнить этот туториал скриншотами.</TODO>
        <h1>Как создать, настроить и поддерживать сервер с этим модпаком</h1>
    </div>
    <ol>
        <li>
            Надо найти компьютер, который будет хранить сервер и на котором он будет запускаться. Если у вас есть домашний сервер с оперативкой >8 гб, то он подойдёт. Но самым простым способом будет взять хостинг за деньги. Рублей 30 в день, если повезёт. Создайте аккаунт на <a href="https://superhub.host">superhub.host</a>. Запомните его пароль, он ещё пригодится.
            <img src="resources/4.png" alt="Главная страница Superhub" class="screenshot">
        </li>
        <li>
            Нажмите на главной странице на кнопку "Создать сервер". Далее пройдитесь по выборам: тип "Minecraft: Java Edition", ядро "Forge", версия "1.20.4".
            <img src="resources/5.png" alt="Создание сервера, ч. 1" class="screenshot">
        </li>
        <li>
            Возьмите расположение сервера как можно ближе к вам, но обращайте внимания на циферки сверху справа - это загруженность сервера. Слишком загруженный сервер будет лагать, поэтому выбирайте что-то среднее между разгруженным и близким.
            <img src="resources/6.png" alt="Создание сервера, ч. 2" class="screenshot">
        </li>
        <li>
            Для моего модпака рекомендую взять 2 (минимум 1.5) ядра процессора (ЦПУ), 10 (минимум 8) ГБ оперативной памяти (ОЗУ), 10 (минимум 2) ГБ дискового пространства.
            <img src="resources/7.png" alt="Создание сервера, ч. 3" class="screenshot">
        </li>
        <li>
            Перейдите во вкладку "Панель управления" к вашему серверу. Если написано, что сервер ещё устанавливается, то подождите минуту и снова попробуйте зайти.
            <img src="resources/8.png" alt="Сервер устанавливается" class="screenshot">
        </li>
        <li>
            Зайдите в раздел "Настройки". В поле "Minecraft version" напишите "1.20.1", а в поле "Build type" напишите "latest".
            <img src="resources/9.png" alt="Настройки сервера" class="screenshot">
        </li>
        <li>
            Зайдите в раздел "Активность". Нажмите на кнопку "Переустановить сервер", и, если надо, подтвердите. Снова подождите, пока сервер устанавливается.
            <img src="resources/10.png" alt="Активность сервера" class="screenshot">
        </li>
        <li>
            Зайдите в раздел "Консоль". Нажмите на кнопку "Start". Когда выскочит подтверждение EULA, согласитесь с ним.
            <img src="resources/11.png" alt="Согласие с EULA" class="screenshot">
        </li>
        <li>
            Когда строчки перестанут появляться в консоли, нажмите на кнопку "Stop".
        </li>
        <li>
            Немного отвлекитесь от панели управления сервером. Скачайте программу WinSCP <a href="https://winscp.net/eng/download.php">(перейдя по этой ссылке, нажмите на зелёную кнопку "Download WinSCP", запустите скачанный установщик и следуйте его указаниям)</a>. После запуска вы должны увидеть следующее:
            <img src="resources/12.png" alt="Меню WinSCP" class="screenshot">
        </li>
        <li>
            Вернитесь в панель управления сервером. Зайдите в раздел "Настройки" и нажмите на кнопку "Запустить SFTP". Когда браузер предложит запустить программу WinSCP - соглашайтесь.
            <img src="resources/13.png" alt="Запуск WinSCP через панель управления" class="screenshot">
        </li>
        <li>
            В левом проводнике будет открыта какая-то папка в файловой системе вашего компьютера, а в правом - папка сервера Майнкрафт.
            <img src="resources/14.png" alt="Рабочее окно WinSCP" class="screenshot">
        </li>
        <li>
            Скачайте <a href="">серверную сборку модпака</a>. Распакуйте её там, где вам удобно. После этого внутри WinSCP переместите левый проводник внутрь распакованной сборки модпака.
            <img src="resources/15.png" alt="WinSCP готов к труду и обороне" class="screenshot">
        </li>
        <li>
            В правом проводнике удалите папку "world" для того, чтобы при следующем запуске мир сгенерировался заново.
            <img src="resources/16.png" alt="Удалить папку 'world'?" class="screenshot">
        </li>
        <li>
            Выделите всё, что внутри левого проводника, и перетащите в правый. Дождитесь окончания копирования.
            <img src="resources/16.png" alt="Копирование модпака" class="screenshot">
        </li>
        <li>
            Теперь можно закрыть WinSCP, чё бы он там ни бухтел. Вернитесь в панель управления, зайдите в раздел "Консоль" и нажмите "Start". Подождите несколько минут, пока сервер запускается в первый раз с модпаком.
            <img src="resources/16.png" alt="Второй запуск сервера" class="screenshot">
        </li>
        <li>
            Готово! Теперь любой желающий может зайти в майнкрафт по <a href="installing.html">клиентскому гайду</a>, зайти в "Сетевая игра" и подключиться к серверу по IP-адресу, указанному в разделе "Консоль".
        </li>
        <li>
            <u>Послесловие:</u> может возникнуть как много проблем, так и много вопросов о тонкой настройке сервера. Кстати, у Superhub есть своя <a href="https://superhub.host/wiki">вики</a>, где на самые распространённые проблемы есть решения. И всё же я расскажу о тонкостях администрации сервера чуть ниже.
        </li>
    </ol>
    <h1 style="margin-bottom:100px;"></h1>
    <p>В папке сервера лежит файл server.properties. Он отвечает за все параметры сервера. Например, <code>difficuly=easy</code> отвечает за Лёгкую сложность на сервере, а <code>online-mode=false</code> позволяет заходить на сервер без лицензии Майнкрафта. Очень советую посмотреть <a href="https://spigotmc.ru/resources/server-properties-by-rgferg1.352/">это руководство по server.properties от Xezard</a>.</p>
    <p>Файлы <code>banned-ips.json</code>, <code>banned-players.json</code>, <code>ops.json</code> и <code>whitelist.json</code> хранят соответственно чёрный список IP, чёрный список игроков, список модераторов и белый список игроков сервера.</p>
    <p>Папка "config" служит для хранения конфигураций модов и Forge. В "crash-reports" сохраняются логи, связанные с фатальными ошибками сервера. В "logs" сохраняются все логи ("debug.log" и "latest.log" - самые новые). В "mods" хранятся все моды на Forge.</p>
    <p>В разделе "Расписание" на Superhub можно настроить режим работы сервера. Хорошей практикой является перезагрузка сервера раз в сутки (при сильной нагрузке в течении дня).</p>
    <p>В разделе "Бэкапы" можно создать копию сервера. Хорошей практикой является делать копию раз в неделю, но я делал раз в 3 месяца, судите сами :P</p>
</main>
</body>
</html>